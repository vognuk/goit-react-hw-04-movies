{"version":3,"sources":["utils/fetchAPI.js","utils/fetchImage.js","images/No_image_poster.png","components/NoImage/index.jsx","components/NoImage/NoImage.module.css","components/Details/Details.module.css","components/Info/Info.module.css","components/Cast/Cast.module.css","components/ReviewsList/ReviewsList.module.css","components/Cast/index.jsx","views/Cast.js","components/ReviewsList/index.jsx","views/Reviews.js","components/Info/Info.jsx","components/Details/index.jsx","views/MovieDetailsPage.js"],"names":["API_KEY","fetchReviewsById","movieId","a","fetch","fetchAPI","fetchPopular","fetchByQuery","query","fetchById","fetchCastById","fetchTrending","BASE_IMG_URL","NoImage","className","s","image","src","NoImagePoster","alt","module","exports","Cast","cast","length","list","map","index","profile_path","name","character","item","photoWrapper","description","characterTitle","content","state","error","fetchCast","response","ok","json","data","setState","Promise","reject","Error","message","this","props","match","params","Component","ReviewsList","reviews","id","author","title","Reviews","fetchReviews","results","withRouter","url","path","locationState","to","pathname","link","activeClassName","activeLink","component","Details","movie","handleGoBack","poster_path","release_date","vote_average","overview","genres","section","wrapper","imgWrapper","type","button","onClick","container","heading","slice","itemText","MovieDetailsPage","isLoading","fetchMovieById","location","history","push","from","routes","homePage","Preloader"],"mappings":"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","file":"static/js/4.85c1f2d3.chunk.js","sourcesContent":["const API_KEY = '5990567cf4039e52fa9271e8be71e971';\r\n\r\nconst fetchCastById = movieId => {\r\n  return fetch(`https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`,);\r\n};\r\n\r\nconst fetchTrending = () => {\r\n  return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`,);\r\n};\r\n\r\nconst fetchReviewsById = async movieId => {\r\n  return fetch(`https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`,);\r\n};\r\n\r\nconst fetchPopular = () => {\r\n  return fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=en-US&page=1`,);\r\n};\r\n\r\nconst fetchByQuery = query => {\r\n  return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=true&query=${query}`,);\r\n};\r\n\r\nconst fetchById = async movieId => {\r\n  return fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`,);\r\n};\r\n\r\nconst fetchAPI = {\r\n  fetchPopular,\r\n  fetchByQuery,\r\n  fetchById,\r\n  fetchCastById,\r\n  fetchTrending,\r\n  fetchReviewsById,\r\n};\r\n\r\nexport default fetchAPI;\r\n","const BASE_IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nexport default BASE_IMG_URL;\n","export default __webpack_public_path__ + \"static/media/No_image_poster.68ae3506.png\";","import NoImagePoster from '../../images/No_image_poster.png';\nimport s from './NoImage.module.css'\nconst NoImage = () => {\n  return <img className={s.image} src={NoImagePoster} alt=\"No image\" />;\n};\n\nexport default NoImage;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"NoImage_image__vdnKC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Details_section__2GdxK\",\"heading\":\"Details_heading__1O5Zl\",\"title\":\"Details_title__cG6cP\",\"wrapper\":\"Details_wrapper__3a6eN\",\"image\":\"Details_image__2frVo\",\"button\":\"Details_button__3tTMT\",\"imgWrapper\":\"Details_imgWrapper__1VNQs\",\"container\":\"Details_container__2Gh7Y\",\"description\":\"Details_description__3Gw9p\",\"list\":\"Details_list__9ufl8\",\"item\":\"Details_item__2szu6\",\"itemText\":\"Details_itemText__3Dd9B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Info_list__3QGpE\",\"link\":\"Info_link__2vM5s\",\"activeLink\":\"Info_activeLink__36t-5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Cast_list__2FH54\",\"item\":\"Cast_item__bR4dC\",\"photoWrapper\":\"Cast_photoWrapper__2O85y\",\"description\":\"Cast_description__bRiNl\",\"name\":\"Cast_name__2lEiX\",\"characterTitle\":\"Cast_characterTitle__1qJBL\",\"character\":\"Cast_character__qHeas\",\"content\":\"Cast_content__ArpdX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ReviewsList_list__2PhzF\",\"item\":\"ReviewsList_item__VxhWb\",\"title\":\"ReviewsList_title__10Pnd\",\"content\":\"ReviewsList_content__2eQwt\"};","/* eslint-disable jsx-a11y/img-redundant-alt */\nimport PropTypes from 'prop-types';\nimport s from './Cast.module.css';\nimport NoImage from '../NoImage';\nimport BASE_IMG_URL from '../../utils/fetchImage';\n\nconst Cast = ({ cast }) => {\n  return (\n    <>\n      {cast.length > 0 ?\n        (<ul className={s.list}>\n          {cast.map(({ profile_path, name, character }, index) => (\n            <li key={index} className={s.item}>\n              {profile_path ?\n                (<div className={s.photoWrapper}>\n                  <img\n                    src={`${BASE_IMG_URL}${profile_path}`}\n                    alt=\"Photo\"\n                  />\n                </div>) :\n                (<NoImage />)\n              }\n              <div className={s.description}>\n                <span className={s.name}>{name}</span>\n                <span className={s.characterTitle}>Character <br /> <span className={s.character}>{character}<span /></span></span>\n              </div>\n            </li>\n          ))}\n        </ul>) :\n        (<p className={s.content}>\n          There is no any info about cast for this movie.\n        </p>)\n      }\n    </>\n  );\n};\n\nCast.propTypes = {\n  cast: PropTypes.array.isRequired,\n}.isRequired;\n\nexport default Cast;\n","import React, { Component } from 'react';\nimport CastList from '../components/Cast';\nimport fetchAPI from '../utils/fetchAPI';\n\nclass Cast extends Component {\n  state = {\n    cast: [],\n    error: null,\n  };\n\n  async componentDidMount() {\n    const { movieId } = this.props.match.params;\n    await this.fetchCast(movieId);\n  }\n\n  fetchCast = async movieId => {\n    try {\n      const response = await fetchAPI.fetchCastById(movieId);\n      if (response.ok) {\n        const data = await response.json();\n        const { cast } = data;\n        return this.setState({ cast: cast });\n      }\n      return Promise.reject(\n        new Error(`Can't find anything.`),\n      );\n    } catch (error) {\n      this.setState({ error: error.message });\n    }\n  };\n\n  render() {\n    const { cast, error } = this.state;\n    return <>{error ? <p>{error}</p> : <CastList cast={cast} />}</>;\n  }\n}\n\nexport default Cast;\n","import PropTypes from 'prop-types';\nimport s from './ReviewsList.module.css';\n\nconst ReviewsList = ({ reviews }) => {\n  return (\n    <>\n      {reviews.length > 0 ?\n        (<ul className={s.list}>\n          {reviews.map(({ id, author, content }) => (\n            <li key={id} className={s.item}>\n              <h4 className={s.title}>Author: {author}</h4>\n              <p className={s.content}>{content}</p>\n            </li>\n          ))}\n        </ul>) :\n        (<p className={s.content}> No reviews.</p>\n        )}\n    </>\n  );\n}\n\nReviewsList.propTypes = {\n  reviews: PropTypes.array.isRequired,\n}.isRequired;\n\nexport default ReviewsList;\n","import React, { Component } from 'react';\nimport fetchAPI from '../utils/fetchAPI';\nimport ReviewsList from '../components/ReviewsList';\n\nclass Reviews extends Component {\n  state = {\n    reviews: [],\n    error: null,\n  };\n\n  async componentDidMount() {\n    const { movieId } = this.props.match.params;\n    await this.fetchReviews(movieId);\n  }\n\n  fetchReviews = async movieId => {\n    try {\n      const response = await fetchAPI.fetchReviewsById(movieId);\n\n      if (response.ok) {\n        const data = await response.json();\n        const { results } = data;\n        return this.setState({ reviews: results });\n      }\n      return Promise.reject(\n        new Error(`Can't find anything.`),\n      );\n    } catch (error) {\n      this.setState({ error: error.message });\n    }\n  };\n\n  render() {\n    const { reviews, error } = this.state;\n    return <> {error ? <p>{error}</p> : <ReviewsList reviews={reviews} />} </>\n  };\n}\n\nexport default Reviews;\n","import { NavLink, Route, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport s from './Info.module.css';\nimport Cast from '../../views/Cast';\nimport Reviews from '../../views/Reviews';\n\nconst Info = ({ url, path, locationState }) => {\n  return (\n    <>\n      <ul className={s.list}>\n        <li>\n          <NavLink\n            to={{\n              pathname: `${url}/cast`,\n              state: { ...locationState },\n            }}\n            className={s.link}\n            activeClassName={s.activeLink}\n          >\n            Cast\n          </NavLink>\n        </li>\n        <li>\n          <NavLink\n            to={{\n              pathname: `${url}/reviews`,\n              state: { ...locationState },\n            }}\n            className={s.link}\n            activeClassName={s.activeLink}\n          >\n            Reviews\n          </NavLink>\n        </li>\n      </ul>\n      <Route path={`${path}/cast`} component={Cast} />\n      <Route path={`${path}/reviews`} component={Reviews} />\n    </>\n  );\n};\n\nInfo.propTypes = {\n  url: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  locationFrom: PropTypes.string.isRequired,\n}.isRequired;\n\nexport default withRouter(Info);\n","import PropTypes from 'prop-types';\nimport s from './Details.module.css';\nimport AdditionalInfo from '../Info/Info';\nimport BlankImageLoader from '../NoImage';\nimport BASE_IMG_URL from '../../utils/fetchImage';\n\nconst Details = ({\n  movie,\n  url,\n  path,\n  handleGoBack,\n  locationState,\n}) => {\n  const {\n    poster_path,\n    title,\n    release_date,\n    vote_average,\n    overview,\n    genres,\n  } = movie;\n  return (\n    <>\n      <section className={s.section}>\n        <div className={s.wrapper}>\n          <div className={s.imgWrapper}>\n            <button\n              type=\"button\"\n              className={s.button}\n              onClick={handleGoBack}\n            > Back\n            </button>\n            {poster_path ?\n              (<img className={s.image} src={`${BASE_IMG_URL}${poster_path}`} alt=\"Poster\" />) :\n              (<BlankImageLoader />)\n            }\n          </div>\n\n          <div className={s.container}>\n            <h1 className={s.heading}>{`${title}(${release_date.slice(0, 4,)})`}</h1>\n            <p className={s.description}>{`User score: ${vote_average * 10}%`}</p>\n            <h2 className={s.title}>Overview:</h2>\n            <p className={s.description}>{overview}</p>\n            <h3 className={s.title}>Genres:</h3>\n\n            <ul className={s.list}>\n              {genres.map(({ id, name }) => (\n                <li key={id} className={s.item}>\n                  <span className={s.itemText}>{name}</span>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        <AdditionalInfo url={url} path={path} locationState={locationState} />\n      </section>\n    </>\n  );\n};\n\nDetails.propTypes = PropTypes.shape({\n  movie: PropTypes.object.isRequired,\n  url: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  handleGoBack: PropTypes.func.isRequired,\n  locationState: PropTypes.object.isRequired,\n}).isRequired;\n\nexport default Details;\n","import Preloader from '../components/Preloader';\r\nimport { Component } from 'react';\r\nimport Details from '../components/Details';\r\nimport routes from '../routes';\r\nimport fetchAPI from '../utils/fetchAPI';\r\n\r\nclass MovieDetailsPage extends Component {\r\n  state = {\r\n    movie: null,\r\n    isLoading: true,\r\n    error: null,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { movieId } = this.props.match.params;\r\n    await this.fetchMovieById(movieId);\r\n  }\r\n\r\n  fetchMovieById = async movieId => {\r\n    try {\r\n      const response = await fetchAPI.fetchById(movieId);\r\n\r\n      if (response.ok) {\r\n        const movie = await response.json();\r\n        return this.setState({ movie, isLoading: false });\r\n      }\r\n      return Promise.reject(\r\n        new Error(`Something went wrong.`),\r\n      );\r\n    } catch (error) {\r\n      this.setState({ error: error.message, isLoading: false });\r\n    }\r\n  };\r\n\r\n  handleGoBack = () => {\r\n    const { location, history } = this.props;\r\n    history.push(location?.state?.from || routes.homePage);\r\n  };\r\n\r\n  render() {\r\n    const { state } = this.props.location;\r\n    const { url, path } = this.props.match;\r\n    const { movie, isLoading, error } = this.state;\r\n    return (\r\n      <>\r\n        {isLoading ?\r\n          (<Preloader />) :\r\n          (movie &&\r\n            (<Details\r\n              movie={movie}\r\n              url={url}\r\n              path={path}\r\n              locationState={state}\r\n              handleGoBack={this.handleGoBack}\r\n            />\r\n            ))}\r\n        {error && <h1>{error}</h1>}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieDetailsPage;\r\n"],"sourceRoot":""}